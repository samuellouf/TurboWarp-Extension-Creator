<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>TurboWarp Extension Creator</title>
    <!--style.css-->
    <style>
      html {
        height: 100%;
        width: 100%;
        scroll-behavior: smooth;
      }
      
      body {
        font-family: Arial, Helvetica, sans-serif;
      }
      
      .error {
        color: red;
      }
      
      body {
        font-family: arial;
      }
      
      .validity {
        position: absolute;
      }
      
      #blocks .add-block .centered{
        margin: 25px;
        display: flex;
        justify-content: center;
      }
      
      #blocks .add-block div {
        border-radius: 10px;
        background-color: #a3edff;
        border: #a3edff solid 10px;
        cursor: pointer;
      }
      
      #blocks .add-block .menu {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 100;
        text-align: center;
        margin: 20px;
        border: #a3edff solid 20px;
      }
      
      .turbowarp-block:not([type="xml"]) {
        display: inline;
      }
      
      .turbowarp-block[type="xml"] {
        display: inline-grid;
      }
      
      .turbowarp-block:not([type="label"]) {
        color: #ffffff;
      }
      .turbowarp-block[type="label"] {
        color: #bcbcbc;
        font-weight: bold;
      }
      
      .turbowarp-block[type="reporter"] {
        border-radius: 10px;
      }
      
      .turbowarp-block[type="boolean"] {
        --mask: 
          conic-gradient(from 45deg at left,#0000,#000 1deg 89deg,#0000 90deg) left/51% 60.00px repeat-y,
          conic-gradient(from -135deg at right,#0000,#000 1deg 89deg,#0000 90deg) right/51% 60.00px repeat-y;
        -webkit-mask: var(--mask);
                mask: var(--mask);
      }
      
      .turbowarp-block div, .turbowarp-block[type="xml"] textarea{
        display: inline-block;
        vertical-align: middle;
        margin: 10px;
      }
      
      .turbowarp-input[type="boolean"] {
        --mask: 
          conic-gradient(from 45deg at left,#0000,#000 1deg 89deg,#0000 90deg) left/51% 60.00px repeat-y,
          conic-gradient(from -135deg at right,#0000,#000 1deg 89deg,#0000 90deg) right/51% 60.00px repeat-y;
        -webkit-mask: var(--mask);
                mask: var(--mask);
        display: inline;
        border: solid;
      }
      
      .turbowarp-input[type="boolean"] div, .turbowarp-input input, .turbowarp-input select{
        margin: 2px;
        margin-left: 10px;
        margin-right: 10px;
        color: white;
      }
      
      .turbowarp-block select, .turbowarp-block select[acceptreporters=false]{
        border-radius: 0px;
      }
      
      .turbowarp-block select[acceptreporters=true]{
        border-radius: 10px;
      }
      
      button {
        appearance: none;
        outline: none;
      }
      
      button::-ms-expand {
        display: none;
      }
      
      :root {
        --button-border: #777;
      }
      
      .buttonstylized {
        border: 1px solid var(--button-border);
        border-radius: 0.25em;
        padding: 0.25em 0.5em;
        font-size: 1.25rem;
        cursor: pointer;
        line-height: 1.1;
        background-color: #fff;
        background-image: linear-gradient(to top, #bcbcbc, #cccccc 33%);
        display: grid;
        grid-template-areas: "button";
        align-items: center;
        position: relative;
      }
      
      .buttonstylized:active {
        background-image: linear-gradient(to top, #fff, #bcbcbc 33%);
      }
      
      button,
      .buttonstylized:after {
        grid-area: button;
      }
      
      button:focus + .focus {
        position: absolute;
        top: -1px;
        left: -1px;
        right: -1px;
        bottom: -1px;
        border: 2px solid var(--button-focus);
        border-radius: inherit;
      }
      
      .add-block .menu h1 {
        font-size: 48px;
      }
      
      .close {
        position: absolute;
        right: 32px;
        top: 32px;
        width: 32px;
        height: 32px;
        opacity: 0.3;
      }
      .close:hover {
        opacity: 1;
      }
      .close:before, .close:after {
        position: absolute;
        left: 15px;
        content: ' ';
        height: 33px;
        width: 2px;
        background-color: #333;
      }
      .close:before {
        transform: rotate(45deg);
      }
      .close:after {
        transform: rotate(-45deg);
      }
      
      footer {
        background-color: #888888;
        text-align: center;
        color: white;
      }
      
      footer a{
        color: blue;
      }
      
      footer a:hover{
        font-weight: bolder;
      }
    </style>
    <!--switch.css-->
    <style>
      .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
      }
      
      .switch input { 
        opacity: 0;
        width: 0;
        height: 0;
      }
      
      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
      }
      
      .slider.blue {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #2196F3;
        -webkit-transition: .4s;
        transition: .4s;
      }
      
      .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
      }
      
      .form input:checked + .slider {
        background-color: #2196F3;
      }
      
      .form input:focus + .slider {
        box-shadow: 0 0 1px #2196F3;
      }
      
      .form input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
      }
      
      /* Rounded sliders */
      .slider.round {
        border-radius: 34px;
      }
      
      .slider.round:before {
        border-radius: 50%;
      }
    </style>
    <style class="blocks-color"></style>
  </head>

  <body style="background-color: white;">
    <h1 style="font-size: 72px;" align="center">TurboWarp Extension Creator</h1>
    <section id="configuration">
    <section id="basic-settings" class="form">
      
      <p style="color: #ff0000;">Red = Required</p>
      <div class="extension-name">
        <p style="color: #ff0000;">Extension name:</p>
        <table><td><tr><input type="text" placeholder="Extension name"/></tr><tr><img src="" class="validity" height="20"/></tr></td></table>
      </div>
      <br>
      <div class="extension-id">
        <p style="color: #ff0000;">Extension ID:</p>
        <table><td><tr><input type="text" placeholder="Extension ID"/></tr><tr><img src="" class="validity" height="20"/></tr></td></table>
      </div>
      <br>
      <div class="extension-description">
        <p style="color: #ff0000;">Extension description:</p>
        <table><td><tr><input type="text" placeholder="Extension description"/></tr><tr><img src="" class="validity" height="20" /></tr></td></table>
      </div>
      <br>
      <div class="extension-creator">
        <p>Extension creator:</p>
        <table><td><tr><input type="text" placeholder="Extension creator"/></tr><tr><img src="" class="validity" height="20"/></tr></td></table>
      </div>
      <br>
      <div class="extension-creator-account-url">
        <p>Extension creator account URL:</p>
        <table><td><tr><select><option value="https">https://</option><option value="http">http://</option></select></tr><tr><input type="text" placeholder="Extension creator account URL"/></tr><tr><img src="" class="validity" height="20"/></tr></td></table>
      </div>
      <br>
      <div class="extension-file-name">
        <p style="color: #ff0000;">Extension file name:</p>
        <table><td><tr><input type="text" placeholder="Extension file name"/>.js</tr><tr><img src="" class="validity" height="20" /></tr></td></table>
      </div>
      <br>
      <br>
      <div class="extension-color1">
        <p>Extension color1:</p>
        <input type="color" value="#0fbd8c" disabled/>
        <label class="switch">
          <input type="checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <br>
      <div class="extension-color2">
        <p>Extension color2:</p>
        <input type="color" value="#0b8e69" disabled/>
        <label class="switch">
          <input type="checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <br>
      <div class="extension-color3">
        <p>Extension color3:</p>
        <input type="color" value="#0c9770" disabled/>
        <label class="switch">
          <input type="checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <br>
      <div class="extension-icon">
        <input type="file" name="icon" accept=".png,.jpg,.jpeg,.svg" />
        <label class="switch">
          <table><tbody><tr><td>Import file as icon</td><td style="
      position: absolute;
      width: 100%;
      height: 100%;
  "><input type="checkbox">
          <span class="slider round blue side"></span></td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td></td><td>Use extension colors</td><td>
  <svg class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="38.13275" height="38.13275" viewBox="0,0,38.13275,38.13275"><g transform="translate(-220.93362,-160.93362)"><g data-paper-data="{&quot;isPaintingLayer&quot;:true}" fill="#0fbd8c" fill-rule="nonzero" stroke="#0b8e69" stroke-width="2.5" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" style="mix-blend-mode: normal"><path d="M257.81638,179.99869c0,9.83892 -7.97878,17.81769 -17.81769,17.81769c-9.83892,0 -17.81506,-7.97878 -17.81506,-17.81769c0,-9.83892 7.97614,-17.81506 17.81506,-17.81506c9.83892,0 17.81769,7.97878 17.81769,17.81506z"/></g></g></svg><!--rotationCenter:19.066374999999994:19.066374999999994--></td></tr></tbody></table>
        </label>
        
      </div>
      <br>
      <div class="issandboxed">
        <p>Is extension sandboxed:</p>
        <label class="switch">
          <input type="checkbox">
          <span class="slider round"></span>
        </label>
      </div>
    </section>
    <br>
    <section id="blocks">
        <div class="blocks_spawnzone">
          <div class="blocks">
          </div>
          <br><br><br>
          <div class="edit-proprieties">
            <div class="add-input">
              <p>Add a 
                <select title="Input" name="inputtype">
                  <option value="text">text</option>
                  <option value="number">number</option>
                  <option value="color">color</option>
                  <option value="menu">dropdown menu</option>
                  <option value="boolean">boolean</option>
                </select> input</p>
              <button onclick="">Add</button>
            </div>
            <br>
            <div class="add-text">
              <button onclick="">Add some text</button>
            </div>
            <br>
            <div class="change-text">
              Text: <input type="text">
              <button onclick="">Set text</button>
            </div>
            <br>
            <div class="change-block-opcode">
              Set block opcode to: <input type="text">
              <button onclick="">Set opcode</button>
            </div>
            <br>
            <div class="change-argument-name">
              Set argument name: <input type="text">
              <button onclick="">Set argument name</button>
            </div>
            <br>
            <div class="change-input-option">
              <input type="checkbox" class="menuacceptreporters"/>This menu accepts reporters<br>
              Set menu name: <input type="text" class="setmenuname">
              <button class="setmenuname">Set menu name</button>
              <br>
              <select title="SelectOption">
                <option value="a">A</option>
                <option value="b">B</option>
              </select>
              Selected option : <span class="option"></span> (<span class="value"></span>)
              <br>
              <button class="delete">Delete option</button>
              Or
              <p>Option: <input type="text" class="option"/></p>
              <p>Value: <input type="text" class="value"/></p>
              <button class="new">New option</button>
            </div>
            <p>To change an input's default value, type/select the value of your choice directly in the input.</p>
            <div class="delete">
              <button class="deletebutton">Delete</button>
            </div>
            <div class="deleteblock">
              <button class="deleteblockbutton">Delete the full block</button>
            </div>
          </div>
        </div>
        <div class="add-block">
          <div class="menu">
            <a href="javascript: hideCreateBlockMenu();" class="close"></a>
            <br><br>
            <h1>Create a block</h1>
            <div class="form">
              <h1 style="font-size: 24px;">Block type:</h1>
              <select title="BlockType">
                <option value="label">Label</option>
                <option value="command">Command</option>
                <option value="reporter">Reporter</option>
                <option value="boolean">Boolean</option>
                <!--<option value="button">Button</option>-->
              </select>
              <br>
              <button class="buttonstylized" align="center" onclick="createBlock();">Create block</button>
            </div>
          </div>
          <div class="centered">
            <div class="button" onclick="showCreateBlockMenu();">
              <svg version="1.1" width="170" height="58" viewBox="0 0 170 58" class="scratchblocks-style-scratch3"><g style="transform: scale(1)"><g transform="translate(0 0)"><g transform="translate(2 1)"><path class="sb3-" d="M 0 4
          A 4 4 0 0 1 4 0
          H 12 c 2 0 3 1 4 2
          l 4 4
          c 1 1 2 2 4 2
          h 12
          c 2 0 3 -1 4 -2
          l 4 -4
          c 1 -1 2 -2 4 -2
          L 86 0
          a 4 4 0 0 1 4 4 L 90 44 a 4 4 0 0 1 -4 4 L 48 48 c -2 0 -3 1 -4 2 l -4 4 c -1 1 -2 2 -4 2 h -12 c -2 0 -3 -1 -4 -2 l -4 -4 c -1 -1 -2 -2 -4 -2 L 4 48 a 4 4 0 0 1 -4 -4 Z" fill="#a49a3a" stroke="rgba(0, 0, 0, 0.2)"></path><text class="sb3-label sb3-" x="0" y="13" transform="translate(8 17)">new block</text></g></g></g></svg>
              <br>
              <h3 align="center">Create a new block</h3>
            </div>
          </div>
        </div>
      </section>
      <br>
      <section id="code">
        <p class="selectblock">Select a block</p>
        <div>
          <p>[<input type="checkbox"/>Async] <span class="opcode"></span>(args<input type="text" placeholder=", util..." class="otherarguments"/>){<br>
            <textarea placeholder="Type your block's code here"></textarea>
          <br>}</p>
        </div>
        <button>Save</button>
      </section>
      <br>
      <section id="result">
        <button onclick="loadCode();" class="buttonstylized">Load Code</button>
        <h1 style="font-size: 48px; color: red;" class="errortext" align="center"><b></b></h1>
        <div id="extension-file-name" style="background-color: gray;font-weight: bold;"></div>
        <pre><button class="buttonstylized" title="Copy" onclick="copyExtensionCode();">📋</button><button class="buttonstylized" title="Download Code" onclick="downloadCode();"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI2My44MjMxOCIgaGVpZ2h0PSI2My4wNzU4IiB2aWV3Qm94PSIwLDAsNjMuODIzMTgsNjMuMDc1OCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSIyMTcuNDE1ODgiIHkxPSIxODAiIHgyPSIyNjIuNTg0MTIiIHkyPSIxODAiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBpZD0iY29sb3ItMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDBmZjAwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMWZhZDFmIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwOC4wODg0MSwtMTUxLjg1NTE4KSI+PGcgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aXNQYWludGluZ0xheWVyJnF1b3Q7OnRydWV9IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjxwYXRoIGQ9Ik0yMzQuOTk5NDMsMTkwLjcxMzZjMCwwIC0wLjAyNjUsLTIyLjkyNTUgLTAuMDM0MSwtMzMuMzM3NWMtMC4wMDE5LC0yLjcyNzMgMi4yMDc3LC00LjkzOTggNC45MzQ3LC00Ljk0MThjMi43Mjc0LC0wLjAwMiA0LjkzOTMsMi4yMDcyIDQuOTQxMyw0LjkzNDZjMC4wMDY0LDguNzI5NCAwLjAzNDUsMzMuMzEwNyAwLjAzNDUsMzMuMzEwN2MwLDAgMS42NjksLTEuNjUxNSA5LjI3NjIsLTkuMjcwM2MxLjkyNzMsLTEuOTMwMSA1LjA1MzYsLTEuOTMyNCA2Ljk4MzIsLTAuMDA1MWMxLjkyOTYsMS45MjgyIDEuOTMyNCw1LjA1NCAwLjAwNTEsNi45ODM2Yy02LjE2NzksNi4xNzc5IC0xNy43MDM4LDE3LjcyOTIgLTE3LjcwMzgsMTcuNzI5MmMtMS45MjcyLDEuOTI5NiAtNS4wNTQsMS45MzE5IC02Ljk4MzIsMC4wMDUxYzAsMCAtOS45Njg5LC05Ljk1MzkgLTE3LjU4NzcsLTE3LjU2MTZjLTEuOTMxLC0xLjkyODIgLTEuOTMzMywtNS4wNTQ1IC0wLjAwNTEsLTYuOTgzN2MxLjkyNjgsLTEuOTMwMSA1LjA1NCwtMS45MzI0IDYuOTgyMiwtMC4wMDUxYzYuMTc5Nyw2LjE2ODkgOS4xNTY3LDkuMTQxOSA5LjE1NjcsOS4xNDE5eiIgZmlsbD0idXJsKCNjb2xvci0xKSIgc3Ryb2tlLXdpZHRoPSIxLjE1ODIzIi8+PHBhdGggZD0iTTIwOC4wODg0MSwyMTQuOTMwOTl2LTQuMzczNTdsMC4wMTE0NiwtNy4zNzA2N2wzLjg2MTk0LC0wLjAwOTEydjcuNzk3NTFsNTUuOTMwODUsLTAuMzg4NDlsMC4wMDI3OSwtNy4zOTUyOGwzLjg5ODQ5LDAuMDA3MDJsMC4xMTc2NSw3LjM1OTAzdjQuMzczNTd6IiBmaWxsPSIjMDA4MDAwIiBzdHJva2Utd2lkdGg9IjAiLz48L2c+PC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjozMS45MTE1OTEyNzAxMTE4NzoyOC4xNDQ4MTQ5OTk5OTk5OTQtLT4=" height="32"></button>
          <code id="extension-code-spawnzone" style="background-color: #dddddd; display: block;"></code>
        </pre>
      </section>
    </section>
    
    <footer>
      <p>TurboWarp Extension Creator is not affiliated with TurboWarp.</p>
      <p>By @samuellouf - (on <a href="https://scratch.mit.edu/users/samuellouf/">Scratch</a>, <a href="https://github.com/samuellouf/">GitHub</a> and the <a href="https://poppy-playtime.fandom.com/wiki/User:SamuelLouf">Poppy Playtime Wiki</a>)</p>
      <p>Any problems? Report them <a href="https://github.com/samuellouf/TurboWarp-Extension-Creator/issues">here</a>.</p>
      <div class="links"><a href="https://github.com/samuellouf/TurboWarp-Extension-Creator/">See on GitHub</a></div>
    </footer>

    <script>
      // script.js
      /*window.addEventListener('beforeunload', (event) => {
        event.preventDefault();
        event.returnValue = '';
      });*/
    </script>
    <script>
      // basic-settings.js
      // Fully operational
      
      function if_then_else_return(condition, then_return, else_return){
        if (condition){
          return then_return;
        } else {
          return else_return;
        }
      }

      document.querySelector('div.extension-name input').addEventListener("change", (event) => {
        if (event.target.value == ''){
          document.querySelector('div.extension-name img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iI2ZmMDAwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNi40NDg4MSwxODMuNTA0NDZsNy4xMDIzOCwtNy4wMDg5MiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yNDMuNTUxMTksMTgzLjUwNDQ2bC03LjEwMjM4LC03LjAwODkyIiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvZz48L2c+PC9zdmc+PCEtLXJvdGF0aW9uQ2VudGVyOjcuNjI5NjQzNTAzMjgwNDI6Ny42Mjk2NDM1MDMyODA0Mi0tPg==';
        } else {
          document.querySelector('div.extension-name img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iIzAwZmYwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNS4zNDg4MSwxNzkuNTY0MTNsMy4xMzE2MSwzLjQ4MDY1bDYuMTcwNzcsLTYuMDg5NTciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48L2c+PC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjo3LjYyOTY0MDAwMDAwMDAyMzo3LjYyOTY0MDAwMDAwMDAyMy0tPg==';
        }
      });

      document.querySelector('div.extension-id input').addEventListener("change", (event) => {
        if (event.target.value == ''){
          document.querySelector('div.extension-id img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iI2ZmMDAwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNi40NDg4MSwxODMuNTA0NDZsNy4xMDIzOCwtNy4wMDg5MiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yNDMuNTUxMTksMTgzLjUwNDQ2bC03LjEwMjM4LC03LjAwODkyIiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvZz48L2c+PC9zdmc+PCEtLXJvdGF0aW9uQ2VudGVyOjcuNjI5NjQzNTAzMjgwNDI6Ny42Mjk2NDM1MDMyODA0Mi0tPg==';
        } else {
          document.querySelector('div.extension-id img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iIzAwZmYwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNS4zNDg4MSwxNzkuNTY0MTNsMy4xMzE2MSwzLjQ4MDY1bDYuMTcwNzcsLTYuMDg5NTciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48L2c+PC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjo3LjYyOTY0MDAwMDAwMDAyMzo3LjYyOTY0MDAwMDAwMDAyMy0tPg==';
        }
      });

      document.querySelector('div.extension-description input').addEventListener("change", (event) => {
        if (event.target.value == ''){
          document.querySelector('div.extension-description img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iI2ZmMDAwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNi40NDg4MSwxODMuNTA0NDZsNy4xMDIzOCwtNy4wMDg5MiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yNDMuNTUxMTksMTgzLjUwNDQ2bC03LjEwMjM4LC03LjAwODkyIiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvZz48L2c+PC9zdmc+PCEtLXJvdGF0aW9uQ2VudGVyOjcuNjI5NjQzNTAzMjgwNDI6Ny42Mjk2NDM1MDMyODA0Mi0tPg==';
        } else {
          document.querySelector('div.extension-description img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iIzAwZmYwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNS4zNDg4MSwxNzkuNTY0MTNsMy4xMzE2MSwzLjQ4MDY1bDYuMTcwNzcsLTYuMDg5NTciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48L2c+PC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjo3LjYyOTY0MDAwMDAwMDAyMzo3LjYyOTY0MDAwMDAwMDAyMy0tPg==';
        }
      });

      document.querySelector('div.extension-creator input').addEventListener("change", (event) => {
        if (event.target.value != ''){
          document.querySelector('div.extension-creator img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iIzAwZmYwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNS4zNDg4MSwxNzkuNTY0MTNsMy4xMzE2MSwzLjQ4MDY1bDYuMTcwNzcsLTYuMDg5NTciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48L2c+PC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjo3LjYyOTY0MDAwMDAwMDAyMzo3LjYyOTY0MDAwMDAwMDAyMy0tPg==';
        } else {
          document.querySelector('div.extension-creator img').src = '';
        }
      });

      document.querySelector('div.extension-creator-account-url input').addEventListener("change", (event) => {
        if (event.target.value != ''){
          document.querySelector('div.extension-creator-account-url img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iIzAwZmYwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNS4zNDg4MSwxNzkuNTY0MTNsMy4xMzE2MSwzLjQ4MDY1bDYuMTcwNzcsLTYuMDg5NTciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48L2c+PC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjo3LjYyOTY0MDAwMDAwMDAyMzo3LjYyOTY0MDAwMDAwMDAyMy0tPg==';
        } else {
          document.querySelector('div.extension-creator-account-url img').src = '';
        }
        if (event.target.value.includes('http')){
          if (event.target.value.includes('https://')){
            document.querySelector('div.extension-creator-account-url select').value = 'https';
            event.target.value = event.target.value.replace('https://', '');
          } else if (event.target.value.includes('http://')){
            document.querySelector('div.extension-creator-account-url select').value = 'http';
            event.target.value = event.target.value.replace('http://', '');
          }
        }
      });

      document.querySelector('div.extension-file-name input').addEventListener("change", (event) => {
        if (event.target.value == ''){
          document.querySelector('div.extension-file-name img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iI2ZmMDAwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNi40NDg4MSwxODMuNTA0NDZsNy4xMDIzOCwtNy4wMDg5MiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yNDMuNTUxMTksMTgzLjUwNDQ2bC03LjEwMjM4LC03LjAwODkyIiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvZz48L2c+PC9zdmc+PCEtLXJvdGF0aW9uQ2VudGVyOjcuNjI5NjQzNTAzMjgwNDI6Ny42Mjk2NDM1MDMyODA0Mi0tPg==';
        } else {
          document.querySelector('div.extension-file-name img').src = 'data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNS4yNTkyOCIgaGVpZ2h0PSIxNS4yNTkyOCIgdmlld0JveD0iMCwwLDE1LjI1OTI4LDE1LjI1OTI4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjMyLjM3MDM2LC0xNzIuMzcwMzYpIj48ZyBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHBhdGggZD0iTTI0Ny42Mjk2NCwxODBjMCw0LjIxMzcxIC0zLjQxNTk0LDcuNjI5NjQgLTcuNjI5NjQsNy42Mjk2NGMtNC4yMTM3MSwwIC03LjYyOTY0LC0zLjQxNTk0IC03LjYyOTY0LC03LjYyOTY0YzAsLTQuMjEzNzEgMy40MTU5NCwtNy42Mjk2NCA3LjYyOTY0LC03LjYyOTY0YzQuMjEzNzEsMCA3LjYyOTY0LDMuNDE1OTQgNy42Mjk2NCw3LjYyOTY0eiIgZmlsbD0iIzAwZmYwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTIzNS4zNDg4MSwxNzkuNTY0MTNsMy4xMzE2MSwzLjQ4MDY1bDYuMTcwNzcsLTYuMDg5NTciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48L2c+PC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjo3LjYyOTY0MDAwMDAwMDAyMzo3LjYyOTY0MDAwMDAwMDAyMy0tPg==';
        }
        if (event.target.value.includes('.js')){
          event.target.value = event.target.value.replace('.js', '');
        }

        document.querySelector('#extension-file-name').innerText = event.target.value + '.js';
      });

      function refreshExtensionColor(){
        document.querySelector('style.blocks-color').innerText = '.turbowarp-input[type="boolean"] { background-color:' + if_then_else_return(document.querySelector('div.extension-color2 input').disabled, '#0b8e69', document.querySelector('div.extension-color2 input').value) + '; border: ' + if_then_else_return(document.querySelector('div.extension-color2 input').disabled, '#0b8e69', document.querySelector('div.extension-color2 input').value) + '} .turbowarp-block:not([type="label"]):not([type="button"]){background-color: ' + if_then_else_return(document.querySelector('div.extension-color1 input').disabled, '#0fbd8c', document.querySelector('div.extension-color1 input').value) + '; border: ' + if_then_else_return(document.querySelector('div.extension-color2 input').disabled, '#0b8e69', document.querySelector('div.extension-color2 input').value) + ' 2.5px solid;}';
      }

      document.querySelector('div.extension-color1 .switch input').addEventListener("change", (event) => {
        document.querySelector('div.extension-color1 input').disabled = !document.querySelector('div.extension-color1 .switch input').checked;
        refreshExtensionColor();
      });

      document.querySelector('div.extension-color2 .switch input').addEventListener("change", (event) => {
        document.querySelector('div.extension-color2 input').disabled = !document.querySelector('div.extension-color2 .switch input').checked;
        refreshExtensionColor();
      });

      document.querySelector('div.extension-color3 .switch input').addEventListener("change", (event) => {
        document.querySelector('div.extension-color3 input').disabled = !document.querySelector('div.extension-color3 .switch input').checked;
        refreshExtensionColor();
      });

      document.querySelector('div.extension-color1 input').addEventListener("change", (event) => {
        document.querySelector('svg.icon g g').style.fill = document.querySelector('div.extension-color1 input').value;
        refreshExtensionColor();
      });

      document.querySelector('div.extension-color2 input').addEventListener("change", (event) => {
        document.querySelector('svg.icon g g').style.stroke = document.querySelector('div.extension-color2 input').value;
        refreshExtensionColor();
      });

      document.querySelector('div.extension-icon .switch input').addEventListener("change", (event) => {
        document.querySelector('div.extension-icon input').disabled = document.querySelector('div.extension-icon .switch input').checked;
        refreshExtensionColor();
      });

      window.onload = refreshExtensionColor();
    </script>
    <script>
      // create-blocks.js

      // Fully operational

      localStorage.setItem('blockIDsOPCODE', '{}');

      function if_then_else_return(condition, then_return, else_return){
        if(condition){ return then_return; } else { return else_return; }
      }

      function hideCreateBlockMenu() {
        document.querySelector('.add-block .menu').style.display = 'none';
      }

      function showCreateBlockMenu() {
        document.querySelector('.add-block .menu').style.display = '';
      }

      function isCreateBlockMenuVisible() {
        return !document.querySelector('.add-block .menu').style.display == 'none';
      }

      function hideInputDefaultValue(){
        document.querySelector('section#blocks .blocks_spawnzone div.edit-proprieties div.change-default-value').style.display = 'none';
        document.querySelector('section#blocks .blocks_spawnzone div.edit-proprieties div.change-default-value-number').style.display = 'none';
        document.querySelector('section#blocks .blocks_spawnzone div.edit-proprieties div.change-default-value-color').style.display = 'none';
      }

      function addBlock(type){
        const getRandomIntegrerBetween = (min, max) => {
          min = Math.ceil(min);
          max = Math.floor(max);
          return Math.floor(Math.random() * (max - min) + min);
        }

        function generateBlockID(){
          var base64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
          var code = '';
          for (var i in 'special-code'){
            code = code + base64[getRandomIntegrerBetween(0, 64)];
          }
          return code;
        }

        var block = document.createElement('div');

        var blockID = generateBlockID();

        while (localStorage.getItem('blockIDsOPCODE').includes(blockID)){
          blockID = generateBlockID();
        }

        var blockBases = {
          label: '<div class="turbowarp-block" type="label" opcode="" blockid="' + blockID + '">\nText\n</div>',
          command: '<div class="turbowarp-block" type="command" opcode="" blockid="' + blockID + '">\n<div type="text">Text</div>\n</div>',
          reporter: '<div class="turbowarp-block" type="reporter" opcode="" blockid="' + blockID + '">\n<div type="text">Text</div>\n</div>',
          boolean: '<div class="turbowarp-block" type="boolean" opcode="" blockid="' + blockID + '">\n<div type="text">Text</div>\n</div>',
          xml: '<div class="turbowarp-block" type="xml" opcode="" blockid="' + blockID + '">\n<textarea placeholder="Enter your XML Here"></textarea>\n</div>',
          button: '<div class="turbowarp-block" type="button" opcode="" blockid="' + blockID + '">\n<button type="button" class="buttonstylized">Button</button>\n</div>'
        }
        document.querySelector('section#blocks div.blocks_spawnzone div').append(block);
        block.outerHTML = blockBases[type] + '<br>';
        var bID = JSON.parse(localStorage.getItem('blockIDsOPCODE'));
        bID[blockID] = {isAsync:false, additionalParameters:"", code:""};
        localStorage.setItem('blockIDsOPCODE', JSON.stringify(bID));
      }

      function createBlock() {
        hideCreateBlockMenu();
        var blocktype = document.querySelector('.add-block .menu select').value;
        addBlock(blocktype);
      }

      window.addEventListener("load", (event) => {
        hideCreateBlockMenu();
      });
    </script>
    <script>
      // add-blocks-input.js

      // Fully Operational

      function if_then_else_return(condition, then_return, else_return){
        if(condition){ return then_return; } else { return else_return; }
      }

      document.addEventListener( 'click', addBlockInput);

      function addBlockInput ( event ) {
        var clicked_on_block = event.target.classList.contains('turbowarp-block');
        var clicked_on_edit_proprieties = event.target.classList.contains('edit-proprieties') || event.target.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.parentElement.classList.contains('edit-proprieties');
        var clicked_on_edit_opcode_function = event.target.id == 'code' || event.target.parentElement.id == 'code' || event.target.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.id == 'code';
        
        if (clicked_on_block && !(event.target.attributes.type.value == 'label' || event.target.attributes.type.value == 'xml' || event.target.attributes.type.value == 'button')){
          document.querySelector('div.edit-proprieties div.add-input').style.display = '';
          document.querySelector('div.edit-proprieties div.add-input button').onclick = function() {
            var inputType = document.querySelector('div.edit-proprieties div.add-input select').value;
            var input = document.createElement('input');
            const inputBases = {
              text: '<input type="text" name=""/>',
              number: '<input type="number" name=""/>',
              color: '<input type="color" name=""/>',
              menu: '<select name="" type="menu" menu=""><option value="a">A</option><option value="b">B</option></select>',
              boolean: '<div class="turbowarp-input" type="boolean" name=""><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></div>'
            };
            event.target.append(input);
            input.outerHTML = inputBases[inputType];
          };
        } else if (!clicked_on_edit_proprieties && !clicked_on_edit_opcode_function){
          document.querySelector('div.edit-proprieties div.add-input').style.display = 'none';
        }
      }

      document.querySelector('div.edit-proprieties div.add-input').style.display = 'none';
    </script>
    <script>
      // add-blocks-text.js
      function if_then_else_return(condition, then_return, else_return){
        if(condition){ return then_return; } else { return else_return; }
      }
      
      document.addEventListener( 'click', addBlockText);
      
      function addBlockText ( event ) {
        var clicked_on_block = event.target.classList.contains('turbowarp-block');
        var clicked_on_edit_proprieties = event.target.classList.contains('edit-proprieties') || event.target.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.parentElement.classList.contains('edit-proprieties');
        var clicked_on_edit_opcode_function = event.target.id == 'code' || event.target.parentElement.id == 'code' || event.target.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.id == 'code';
      
        if (clicked_on_block && !(event.target.attributes.type.value == 'label' || event.target.attributes.type.value == 'xml' || event.target.attributes.type.value == 'button')){
          document.querySelector('div.edit-proprieties div.add-text').style.display = '';
          document.querySelector('div.edit-proprieties div.add-text button').onclick = function() {
            var input = document.createElement('div');
            event.target.append(input);
            input.outerHTML = '<div type="text">Text</div>';
          };
        } else if (!clicked_on_edit_proprieties && !clicked_on_edit_opcode_function){
          document.querySelector('div.edit-proprieties div.add-text').style.display = 'none';
        }
      }
      
      document.querySelector('div.edit-proprieties div.add-text').style.display = 'none';
    </script>
    <script>
      // edit-blocks-text.js
      // Fully operational

      function hideAllBlocksEditTools() {
        try {
          document.querySelector('div.edit-proprieties div.change-text').style.display = 'none';
        } catch {}
      }

      function showAllBlocksEditTools() {
        try {
          document.querySelector('div.edit-proprieties div.change-text').style.display = '';
        } catch {}
      }

      document.addEventListener( 'click', editBlockText);

      function editBlockText ( event ) {
        var clicked_on_block = (event.target.classList.contains('turbowarp-block') && event.target.outerHTML.includes('type="label"'))|| event.target.parentElement.classList.contains('turbowarp-block') || event.target.parentElement.parentElement.classList.contains('turbowarp-block');
        var clicked_on_edit_opcode_function = event.target.id == 'code' || event.target.parentElement.id == 'code' || event.target.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.id == 'code';
        var clicked_on_edit_proprieties = event.target.classList.contains('edit-proprieties') || event.target.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.classList.contains('edit-proprieties');

        if (!(clicked_on_block || clicked_on_edit_proprieties)){
          hideAllBlocksEditTools();
        }

        var isText = (event.target.outerHTML.includes('type="button"') || event.target.outerHTML.includes('type="label"') || (event.target.outerHTML.includes('type="text"') && event.target.outerHTML.includes('div')));

        if (clicked_on_block && isText){
          document.querySelector('div.edit-proprieties div.change-text input').value = event.target.innerText;
          if ((event.target.classList.contains('turbowarp-block') || event.target.parentElement.classList.contains('turbowarp-block')) || !event.target.outerHTML.includes('type="xml"')) {
            if (event.target.outerHTML.includes('type="label"') || (event.target.outerHTML.includes('type="text"') && event.target.outerHTML.includes('div')) || event.target.outerHTML.includes('type="button"')){
              document.querySelector('div.edit-proprieties div.change-text').style.display = '';
              if (event.target.outerHTML.includes('type="label"') || event.target.outerHTML.includes('type="button"') || (event.target.outerHTML.includes('type="text"') && event.target.outerHTML.includes('div'))){
                document.querySelector('div.edit-proprieties div.change-text input').value = event.target.innerText;
              } else if (!event.target.classList.contains('turbowarp-block')){
                document.querySelector('div.edit-proprieties div.change-text input').value = event.target.value;
              } else if (event.target.classList.contains('turbowarp-block')) {
                document.querySelector('div.edit-proprieties div.change-text input').value = event.target.children[0].value;
              }
              document.querySelector('div.edit-proprieties div.change-text button').onclick = function() {
                event.target.innerText = document.querySelector('div.edit-proprieties div.change-text input').value;
              };
            }
          } else if (event.target.outerHTML.includes('type="button"')){
            document.querySelector('div.edit-proprieties div.change-text input').value = event.target.innerText;
            document.querySelector('div.edit-proprieties div.change-text button').onclick = function() {
              event.target.innerText = document.querySelector('div.edit-proprieties div.change-text input').value;
            };
          }
        } else if (!clicked_on_edit_proprieties && !clicked_on_edit_opcode_function){
          hideAllBlocksEditTools();
        }
      }

      window.onload = hideAllBlocksEditTools();
    </script>
    <script>
      // edit-blocks-input.js
      // Fully operational

      const hasOwn = (obj, property) => Object.prototype.hasOwnProperty.call(obj, property);

      function json_array_filter(key, json) {
        try {
          json = JSON.parse(json);
          return JSON.stringify(
            json.map((x) => {
              if (hasOwn(x, key)) {
                return x[key];
              }
              return null;
            })
          );
        } catch (e) {
          return "";
        }
      }

      document.addEventListener( 'click', editBlockInput);

      function editBlockInput ( event ) {
        var clicked_on_block = event.target.parentElement.classList.contains('turbowarp-block') || event.target.parentElement.parentElement.classList.contains('turbowarp-block');
        var clicked_on_edit_proprieties = event.target.classList.contains('edit-proprieties') || event.target.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.parentElement.classList.contains('edit-proprieties');
        var clicked_on_edit_opcode_function = event.target.id == 'code' || event.target.parentElement.id == 'code' || event.target.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.id == 'code';
        var isBoolean = (event.target.parentElement.outerHTML.includes('class="turbowarp-input"') && event.target.parentElement.outerHTML.includes('type="boolean"')) || (event.target.outerHTML.includes('class="turbowarp-input"') && event.target.outerHTML.includes('type="boolean"'));
        var isInput = event.target.outerHTML.includes('input') || event.target.outerHTML.includes('select');
        
        if (clicked_on_block && (isInput || isBoolean)){
          // Change argument name
          document.querySelector('div.edit-proprieties div.change-argument-name').style.display = '';
          if (isInput){
            document.querySelector('div.edit-proprieties div.change-argument-name input').value = event.target.name;
          } else if (isBoolean) {
            document.querySelector('div.edit-proprieties div.change-argument-name input').value = event.target.parentElement.attributes.name.value;
          }

          document.querySelector('div.edit-proprieties div.change-argument-name button').onclick = function() {
            if (isInput){
              event.target.name = document.querySelector('div.edit-proprieties div.change-argument-name input').value;
            } else if (isBoolean) {
              event.target.parentElement.attributes.name.value = document.querySelector('div.edit-proprieties div.change-argument-name input').value;
            }
          };

          if (event.target.outerHTML.includes('select')){
            var values = [];
            for (var i in event.target.options){
              values.push(event.target.options[i].value);
            }
            try{
              document.querySelector('div.edit-proprieties div.change-input-option span.option').innerText = document.querySelector('div.edit-proprieties div.change-input-option select').options[values.indexOf(document.querySelector('div.edit-proprieties div.change-input-option select').value)].innerHTML;
            } catch{}
            document.querySelector('div.edit-proprieties div.change-input-option input.menuacceptreporters').value = (event.target.getAttribute('acceptreporters') == 'true');
            document.querySelector('div.edit-proprieties div.change-input-option select').innerHTML = event.target.innerHTML;
            document.querySelector('div.edit-proprieties div.change-input-option').style.display = '';
            // Refresh Option Selector
            document.querySelector('div.edit-proprieties div.change-input-option select').onclick = function() {
              var values = [];
              for (var i in event.target.options){
                values.push(event.target.options[i].value);
              }
              document.querySelector('div.edit-proprieties div.change-input-option span.option').innerText = document.querySelector('div.edit-proprieties div.change-input-option select').options[values.indexOf(document.querySelector('div.edit-proprieties div.change-input-option select').value)].innerText;
              document.querySelector('div.edit-proprieties div.change-input-option span.value').innerText = document.querySelector('div.edit-proprieties div.change-input-option select').value;
            };

            // New Option
            document.querySelector('div.edit-proprieties div.change-input-option button.new').onclick = function() {
              const sel = document.querySelector('div.edit-proprieties div.change-input-option select');
              const sel_original = event.target;
              const opt = document.createElement("option");
              const opt_2 = document.createElement("option");
              var value = document.querySelector('div.edit-proprieties div.change-input-option p input.value').value;
              var text = document.querySelector('div.edit-proprieties div.change-input-option p input.option').value;
              opt.value = value;
              opt.text = text;
              opt_2.value = value;
              opt_2.text = text;
              sel.add(opt, null);
              sel_original.add(opt_2, null);
            };
            
            // Delete Option
            document.querySelector('div.edit-proprieties div.change-input-option button.delete').onclick = function() {
              var values = [];
              for (var i in event.target.options){
                values.push(event.target.options[i].value);
              }
              var vtd = document.querySelector('div.edit-proprieties div.change-input-option select').value;
              event.target.options[values.indexOf(vtd)].outerHTML='';
              document.querySelector('div.edit-proprieties div.change-input-option select').options[values.indexOf(vtd)].outerHTML='';
            };
            
            // Accept Reporters
            document.querySelector('div.edit-proprieties div.change-input-option input.menuacceptreporters').onchange = function() {
              event.target.setAttribute('acceptreporters', document.querySelector('div.edit-proprieties div.change-input-option input.menuacceptreporters').checked);
            };


            // -----------
            // Menu Name
            document.querySelector('div.edit-proprieties div.change-input-option input.setmenuname').value = event.target.getAttribute('menu');
            document.querySelector('div.edit-proprieties div.change-input-option button.setmenuname').onclick = function() {
              let setmenunameinput = document.querySelector('div.edit-proprieties div.change-input-option input.setmenuname');
              event.target.setAttribute('menu', setmenunameinput.value);
            };
          }
        } else if (!clicked_on_edit_proprieties && !clicked_on_edit_opcode_function){
          document.querySelector('div.edit-proprieties div.change-argument-name').style.display = 'none';
          document.querySelector('div.edit-proprieties div.change-input-option').style.display = 'none';
        }
      }

      document.querySelector('div.edit-proprieties div.change-argument-name').style.display = 'none';
      document.querySelector('div.edit-proprieties div.change-input-option').style.display = 'none';
    </script>
    <script>
      // edit-blocks-opcode.js
      // Fully Operational
      document.addEventListener( 'click', editBlockOpcode);

      function if_then_else_return(condition, then_return, else_return){
        if (condition){
          return then_return;
        } else {
          return else_return;
        }
      }

      function editBlockOpcode ( event ) {
        var clicked_on_block = event.target.classList.contains('turbowarp-block');
        var clicked_on_edit_opcode_function = event.target.id == 'code' || event.target.parentElement.id == 'code' || event.target.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.id == 'code';
        var clicked_on_edit_proprieties = event.target.classList.contains('edit-proprieties') || event.target.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.parentElement.classList.contains('edit-proprieties');
        
        if (clicked_on_block){
          document.querySelector('div.edit-proprieties div.change-block-opcode').style.display = '';
          document.querySelector('div.edit-proprieties div.change-block-opcode input').value = if_then_else_return(event.target.getAttribute('opcode') == undefined, '', event.target.getAttribute('opcode'));
          document.querySelector('div.edit-proprieties div.change-block-opcode button').onclick = function() {
            event.target.setAttribute('opcode', document.querySelector('div.edit-proprieties div.change-block-opcode input').value);
          };
        } else if (!clicked_on_edit_proprieties && !clicked_on_edit_opcode_function){
          document.querySelector('div.edit-proprieties div.change-block-opcode').style.display = 'none';
        }
      }

      document.querySelector('div.edit-proprieties div.change-block-opcode').style.display = 'none';
    </script>
    <script>
      // edit-blocks-opcode-function.js

      function itemOfFromString(number, from_string, splitby) {
        return String(from_string).split(String(splitby))[(Number(number) - 1)] || "";
      }
      
      document.addEventListener( 'click', editBlockOpcodeFunction);
      
      function editBlockOpcodeFunction ( event ) {
        var clicked_on_block = event.target.classList.contains('turbowarp-block');
        var clicked_on_edit_proprieties = event.target.classList.contains('edit-proprieties') || event.target.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.classList.contains('edit-proprieties') || event.target.parentElement.parentElement.parentElement.parentElement.classList.contains('edit-proprieties');
        var clicked_on_edit_opcode_function = event.target.id == 'code' || event.target.parentElement.id == 'code' || event.target.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.parentElement.parentElement.parentElement.id == 'code' || event.target.parentElement.id == 'code';
        
        if (clicked_on_block && !(event.target.getAttribute('type') == 'label')){
          document.querySelector('section#code div').style.display = '';
          document.querySelector('section#code p').style.display = 'none';
          var bID = JSON.parse(localStorage.getItem('blockIDsOPCODE'));
          document.querySelector('section#code div input[type="checkbox"]').checked = (bID[event.target.getAttribute('blockid')].isAsync == 'true');
          document.querySelector('section#code div input[type="text"]').value = bID[event.target.getAttribute('blockid')].additionalParameters;
          document.querySelector('section#code div textarea').value = bID[event.target.getAttribute('blockid')].code;
          document.querySelector('section#code div p span.opcode').innerText = event.target.getAttribute('opcode');
          document.querySelector('section#code button').onclick = function() {
            var bID = JSON.parse(localStorage.getItem('blockIDsOPCODE'));
            bID[event.target.getAttribute('blockid')].isAsync = document.querySelector('section#code div input[type="checkbox"]').checked
            bID[event.target.getAttribute('blockid')].additionalParameters = document.querySelector('section#code div input[type="text"]').value
            bID[event.target.getAttribute('blockid')].code = document.querySelector('section#code div textarea').value;
            localStorage.setItem('blockIDsOPCODE',JSON.stringify(bID));
          };
        } else if (!clicked_on_edit_proprieties && !clicked_on_edit_opcode_function){
          document.querySelector('section#code div').style.display = 'none';
          document.querySelector('section#code p').style.display = '';
        }
      }
      
      document.querySelector('section#code div').style.display = 'none';
      document.querySelector('section#code p').style.display = '';
    </script>
    <script>
      // edit-block-menu.js

    </script>
    <script>
      // delete-blocks.js
      // Fully operational

      function hideAllBlocksEditTools() {
        try {
          document.querySelector('div.edit-proprieties div.change-text').style.display = 'none';
        } catch {}
      }

      document.addEventListener( 'click', deleteBlockText);

      function deleteBlockText ( event ) {
        var clicked_on_block = event.target.classList.contains('turbowarp-block') || event.target.parentElement.classList.contains('turbowarp-block') || event.target.parentElement.parentElement.classList.contains('turbowarp-block');
        if (clicked_on_block){
          document.querySelector('div.edit-proprieties div.deleteblock .deleteblockbutton').disabled = false;
          document.querySelector('div.edit-proprieties div.delete .deletebutton').disabled = false;
          document.querySelector('div.edit-proprieties div.delete .deletebutton').onclick = function() {
            if (event.target.outerHTML.includes('textarea') && event.target.outerHTML.includes('XML')){
              event.target.parentElement.outerHTML = '';
            } else {
              event.target.outerHTML = '';
            }
            
            hideAllBlocksEditTools();
            document.querySelector('div.edit-proprieties div.deleteblock .deleteblockbutton').disabled = true;
            document.querySelector('div.edit-proprieties div.delete .deletebutton').disabled = true;
          };

          document.querySelector('div.edit-proprieties div.deleteblock .deleteblockbutton').onclick = function() {
            if (event.target.classList.contains('turbowarp-block')){
              event.target.outerHTML = '';
            } else if (event.target.parentElement.classList.contains('turbowarp-block')){
              event.target.parentElement.outerHTML = '';
            } else if (event.target.parentElement.parentElement.classList.contains('turbowarp-block')){
              event.target.parentElement.parentElement.outerHTML = '';
            }
            hideAllBlocksEditTools();
            document.querySelector('div.edit-proprieties div.deleteblock .deleteblockbutton').disabled = true;
            document.querySelector('div.edit-proprieties div.delete .deletebutton').disabled = true;
          };
        } else {
          document.querySelector('div.edit-proprieties div.deleteblock .deleteblockbutton').disabled = true;
          document.querySelector('div.edit-proprieties div.delete .deletebutton').disabled = true;
        }
      }

      window.onload = document.querySelector('div.edit-proprieties div.deleteblock .deleteblockbutton').disabled = true;
      window.onload = document.querySelector('div.edit-proprieties div.delete .deletebutton').disabled = true;
    </script>
    <script>
      // create-code.js
      function if_then_else_return(condition, then_return, else_return){
        if (condition){
          return then_return;
        } else {
          return else_return;
        }
      }
      
      function getBlockCode(block){
        if (block.getAttribute('type') == 'label'){
          return {
            blockType: "label",
            text: block.innerText
          }
        } else if (block.getAttribute('type') == 'button'){
          return {
            func: block.getAttribute('opcode'),
            blockType: "button",
            text: block.innerText
          }
        } else {
          var base = {
            opcode: block.getAttribute('opcode'),
            blockType: if_then_else_return(block.getAttribute('type') == 'boolean', 'Boolean', block.getAttribute('type')),
            text: ""
          }
      
          var inputs = [];
          var inputsElem = [];
      
          var i = 0;
      
          for (i in block.children){
            if (typeof block.children[i] == 'object'){
      
              if (i == 0){
                var before = '';
              } else {
                var before = ' ';
              }
      
              if ((block.children[i].getAttribute('type') == 'text') && (block.children[i].nodeName == 'DIV')){
                var text = block.children[i].innerText;
              } else {
                var text = '[' + block.children[i].getAttribute('name') + ']';
                inputs.push(block.children[i].getAttribute('name'));
                inputsElem.push(block.children[i]);
              }
      
              base.text = base.text + before + text;
            }
          }
      
          if (inputs != []){
            base.arguments = {}
            var b = 0;
            for (b in inputs){
              base.arguments[inputs[b]] = {}
              var elemtype = inputsElem[b].getAttribute('type');
              if (elemtype == 'text'){
                base.arguments[inputs[b]].type = 'string';
              } else if (elemtype == 'boolean'){
                base.arguments[inputs[b]].type = 'Boolean';
              } else if (elemtype == 'number'){
                base.arguments[inputs[b]].type = 'number';
              } else if (elemtype == 'color'){
                base.arguments[inputs[b]].type = 'color';
              } else if (elemtype == 'menu'){
                base.arguments[inputs[b]].type = 'string';
                base.arguments[inputs[b]].menu = inputsElem[b].getAttribute('menu');
              }
      
              if ((inputsElem[b].value != '') && !(elemtype == 'boolean')){
                if (elemtype == 'number'){
                  base.arguments[inputs[b]].defaultValue = Number(inputsElem[b].value);
                } else {
                  base.arguments[inputs[b]].defaultValue = inputsElem[b].value;
                }
              }
            }
          }
      
          return base;
        }
      }
      
      function getAllBlocks() {
        var blocks = document.querySelectorAll('div.turbowarp-block');
        var blocksCode = [];
      
        var n = 0;
        
        for (n in blocks){
          if (typeof blocks[n] == 'object'){
              blocksCode.push(getBlockCode(blocks[n]));
          }
        }
      
        return blocksCode;
      }
      
      
      
      function getMenuCode(menu){
        var menuitems = [];
        var d = 0;
        for (d in menu.children){
          if (typeof menu.children[d] == 'object'){
            menuitems.push({text: menu.children[d].innerText, value: menu.children[d].value});
          }
        }
      
        return {
          menu_name: menu.getAttribute('menu'),
          menu: {
            acceptReporters: menu.getAttribute('acceptreporters') == 'true',
            items: menuitems,
          }
        };
      }
      
      function getAllMenus(){
        var menus = {}
        var menusElements = document.querySelectorAll('div.turbowarp-block select[type="menu"]');
      
        var k = 0;
        
        for (k in menusElements){
          if (typeof menusElements[k] == 'object'){
            var menucode = getMenuCode(menusElements[k]);
            menus[menucode.menu_name] = menucode.menu;
          }
        }
      
      
        return menus;
      }
      
      function json_get_all( Stype, json ) {
        try {
          json = JSON.parse(json);
          switch (Stype) {
            case "keys":
              return JSON.stringify(Object.keys(json).map((key) => key));
            case "values":
              return JSON.stringify(Object.keys(json).map((key) => json[key]));
            case "datas":
              return JSON.stringify(
                Object.keys(json).map((key) => [key, json[key]])
              );
            default:
              return "";
          }
        } catch {
          return "";
        }
      }
      
      function getEveryBlocksCode(){
        var blockidsopcode = localStorage.getItem('blockIDsOPCODE');
        var blocks = document.querySelectorAll('div.turbowarp-block');
        blockidsopcode = JSON.parse(blockidsopcode);
        var fullcode = '';
      
        var f = 0;
      
        for (f in blocks){
          if (typeof blocks[f] == 'object' && blocks[f].getAttribute('opcode') != ''){
            var blockid = blocks[f].getAttribute('blockid');
            var code = '    ';
            if (blockidsopcode[blockid].isAsync){
              code = code + 'async ';
            }
      
            code = code + blocks[f].getAttribute('opcode') + '(args' + blockidsopcode[blockid].additionalParameters + ')' + `{\n      ${blockidsopcode[blockid].code.replaceAll('\n', '\n      ')}\n    }`;
      
            fullcode = fullcode + code + '\n';
          }
        }
      
        return fullcode;
      }
      
      // ----------------------------------------------
      function blobToBase64(blob) {
        return new Promise((resolve, _) => {
          const reader = new FileReader();
          reader.onloadend = () => resolve(reader.result);
          reader.readAsDataURL(blob);
        });
      }
      
      async function generateExtensionCode(){
        if (!document.querySelector('div.extension-icon input[type="checkbox"]').checked){
          var iconURI = blobToBase64(document.querySelector('div.extension-icon input[type="file"]').files[0]);
        }
      
        var code = `
      // Name: ${document.querySelector('div.extension-name input').value}
      // ID: ${document.querySelector('div.extension-id input').value}
      // Description: ${document.querySelector('div.extension-description input').value}${if_then_else_return(document.querySelector('div.extension-creator input').value == '', '', `
      // By: ${document.querySelector('div.extension-creator input').value} ${if_then_else_return(document.querySelector('div.extension-creator-account-url input').value == '', '', `<${document.querySelector('div.extension-creator-account-url select').value + '://' + document.querySelector('div.extension-creator-account-url input').value}>`)}`)}
      
      (function (Scratch) {
        "use strict";
        ${if_then_else_return(document.querySelector('div.extension-icon input[type="checkbox"]').checked, '', `const iconURI = "${await iconURI}";`)}
        ${if_then_else_return(document.querySelector('div.issandboxed input[type="checkbox"]').checked, `
        if (!Scratch.extensions.unsandboxed) {
          throw new Error("This extension must run unsandboxed");
        }`, '')}
      
        class ${document.querySelector('div.extension-id input').value} {
          getInfo() {
            return {
              id: "${document.querySelector('div.extension-id input').value}",
              name: "${document.querySelector('div.extension-name input').value}",${if_then_else_return(document.querySelector('div.extension-color1 input[type="checkbox"]').checked, `\n        color1: "${document.querySelector('div.extension-color1 input[type="color"]').value}",`, '')}${if_then_else_return(document.querySelector('div.extension-color2 input[type="checkbox"]').checked, `\n        color2: "${document.querySelector('div.extension-color2 input[type="color"]').value}",`, '')}${if_then_else_return(document.querySelector('div.extension-color3 input[type="checkbox"]').checked, `\n        color3: "${document.querySelector('div.extension-color3 input[type="color"]').value}",`, '')}${if_then_else_return(document.querySelector('div.extension-icon input[type="checkbox"]').checked, '', '\n        menuIconURI: iconURI,')}
              blocks: ${JSON.stringify(getAllBlocks(), null, 2).replaceAll('\n', '\n        ')},
              menus: ${JSON.stringify(getAllMenus(), null, 2).replaceAll('\n', '\n        ')},
            };
          }
      
      ${getEveryBlocksCode()}
      
        }
        Scratch.extensions.register(new ${document.querySelector('div.extension-id input').value}());
      })(Scratch);
      `
        return code;
      }
      
      // ------------------------------------------
      
      async function loadCode(){
        if(document.querySelector('div.extension-name input').value == '' || document.querySelector('div.extension-id input').value == '' || document.querySelector('div.extension-description input').value == '' || document.querySelector('div.extension-file-name input').value == ''){
          if (document.querySelector('div.extension-name input').value == ''){
            document.querySelector('h1.errortext b').innerText = 'Error: No extension name';
          } else if (document.querySelector('div.extension-id input').value == ''){
            document.querySelector('h1.errortext b').innerText = 'Error: No extension id';
          } else if (document.querySelector('div.extension-description input').value == ''){
            document.querySelector('h1.errortext b').innerText = 'Error: No extension description';
          } else if (document.querySelector('div.extension-file-name input').value == ''){
            document.querySelector('h1.errortext b').innerText = 'Error: No extension file name';
          }
        } else {
          document.querySelector('h1.errortext b').innerText = '';
          document.querySelector('section#result pre code').innerText = await generateExtensionCode();
        }
      }
      
      // -----------------------------------------------
      function copyExtensionCode(){
        navigator.clipboard.writeText(document.querySelector('section#result pre code').innerText);
      }
    </script>
    <script>
      // save-code.js
      /**
       * @param {string} url
       * @param {string} file
       */
      const downloadURL = (url, file) => {
        const link = document.createElement("a");
        link.href = url;
        link.download = file;
        document.body.appendChild(link);
        link.click();
        link.remove();
      };

      /**
       * @param {Blob} blob
       * @param {string} file
       */
      const downloadBlob = (blob, file) => {
        const url = URL.createObjectURL(blob);
        downloadURL(url, file);
        URL.revokeObjectURL(url);
      };

      /**
       * @param {string} url
       * @returns {boolean}
       */
      const isDataURL = (url) => {
        try {
          const parsed = new URL(url);
          return parsed.protocol === "data:";
        } catch (e) {
          return false;
        }
      };

      /**
       * @param {string} url
       * @param {string} file
       */
      const downloadFromURL = (url, file) => {
        if (isDataURL(url)) {
          downloadURL(url, file);
        } else {
          return fetch(url)
            .then((res) => res.blob())
            .then((blob) => {
              downloadBlob(blob, file);
            });
        }
      };

      /**
       * @param {string} text
       * @param {string} file
       */
      function downloadText(text, file) {
        downloadBlob(
          new Blob([String(text)]),
          String(file)
        );
      }

      /**
       * @param {string} url
       * @param {string} file
       */
      function downloadFileFromURL(url, file) {
        return downloadFromURL(
          String(url),
          String(file)
        );
      }

      function downloadCode(){
        downloadText(
          document.querySelector('section#result code').innerText,
          document.querySelector('section#result div').innerText
        );
      }
    </script>
  </body>

</html>
<!--1400 lines! That's a lot of code.-->